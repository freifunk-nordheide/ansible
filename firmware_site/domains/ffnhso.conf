-- Ansible managed

{
  -- multiple codes/names can be defined, the first one is the primary name
  -- additional aliases can be defined
  domain_names = {
    ffnhso = 'FFNH-Suedost - Hanstedt, Jesteburg, Salzhausen',
  },

  timezone = 'CET-1CEST,M3.5.0,M10.5.0/3', -- Europe/Berlin
  ntp_servers = {
      '2a07:59c6:ec06:ff13::ff11',
      '2a07:59c6:ec06:ff13::ff13' 
  },


  -- 32 byte random data in hexadecimal encoding
  -- Can be generated using: echo $(hexdump -v -n 32 -e '1/1 "%02x"' </dev/urandom)
  domain_seed = 'be85f5c983c2b76aa4ff8d697ead0eeabc26b66835a010143e3b71dc4d73b958',

  -- unique network prefixes per domain
  prefix4 = '10.72.208.0/20',
  prefix6 = '2a07:59c6:ec06:ff13::/64',

  next_node = {
    ip4 = '10.71.223.254',
    ip6 = '2a07:59c6:ec06:ff13::13ff',
  },

  -- ### Marcus ### 
  -- names are currently domain specific, to test all features....
  -- this is valid for the client ssid and the mesh id
  -- ### End Marcus ###

  wifi24 = {
    --disables 802.11b rates
    supported_rates = {6000, 9000, 12000, 18000, 24000, 36000, 48000, 54000},
    basic_rate = {6000, 9000, 18000, 36000, 54000},
    ap = {
      ssid = "ffnhso.freifunk.net-2",
      channel = 5,
    },
    mesh = {
      id = 'ue3H3uXffnhso132', 
      mcast_rate = 12000,      
    },
  },

  wifi5 = {
    ap = {
      ssid = "ffnhso.freifunk.net-5",
      channel = 44,
    },
    mesh = {
      id = "ue3H3uXffnhso135",
      mcast_rate = 12000,      
    },
  },

  dns = {
    cacheentries = 5000,
    servers = {
      '2a07:59c6:ec06:ff13::ff11',
      '2a07:59c6:ec06:ff13::ff13' 
    }
  },

  mesh = {
    vxlan = true,
    filter_membership_reports = true,
    batman_adv = {
      routing_algo = 'BATMAN_IV',
      gw_sel_class = 1,
    }
  },

  mesh_vpn = {
    enabled = true,
    mtu = 1374,
    fastd = {
      -- methods = {'salsa2012+umac'},
      -- configurable = true,
      -- syslog_level = 'warn',
      groups = {
        backbone = {
          limit = 1,
          peers = {
            ffnh_vpn1113 = {
              key = "c7dce8684dffe5f5b0e5604eaf53bb428411c430bfdf062d2c9943cfa5495b48",
              remotes = {
                '"11.gw.freifunk-nordheide.de" port 11130'
              }
            },
            ffnh_vpn1313 = {
              key = "25b4dae39a0ab16459e68b6a5d0d0fafa5cd39b66158ef7eb8730b2d5db976f5",
              remotes = {
                '"13.gw.freifunk-nordheide.de" port 11130'
              }
            } 
          },
        },
      },
    },
  }
}
